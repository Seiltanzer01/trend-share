<!-- templates/manage_setups.html -->

{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ—Ç–∞–ø–∞–º–∏</h2>

    <a href="{{ url_for('add_setup') }}" class="btn btn-primary" style="margin-bottom: 15px;">
        <span class="icon">‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –°–µ—Ç–∞–ø
    </a>

    <div class="table-responsive">
        <table class="setup-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    <th>–°–∫—Ä–∏–Ω—à–æ—Ç</th>
                    <th>–ö—Ä–∏—Ç–µ—Ä–∏–∏</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for setup in setups %}
                <tr>
                    <td>{{ setup.id }}</td>
                    <td>{{ setup.setup_name }}</td>
                    <td>{{ setup.description or '-' }}</td>
                    <td>
                        {% if setup.screenshot_url %}
                            <img src="{{ setup.screenshot_url }}" alt="Setup Screenshot" class="clickable-image setup-mini">
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td>
                        {% for criterion in setup.criteria %}
                            <span class="criterion">{{ criterion.name }}</span>
                        {% endfor %}
                    </td>
                    <td>
                        <a href="{{ url_for('view_setup', setup_id=setup.id) }}" class="btn view-btn" style="margin-bottom: 5px;">
                            <span class="icon">üîç</span> –ü—Ä–æ—Å–º–æ—Ç—Ä
                        </a><br>
                        <a href="{{ url_for('edit_setup', setup_id=setup.id) }}" class="btn edit-btn" style="margin-bottom: 5px;">
                            <span class="icon">‚úèÔ∏è</span> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </a><br>
                        <form action="{{ url_for('delete_setup', setup_id=setup.id) }}" method="post" style="display:inline;">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <button type="submit" class="btn btn-danger" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Å–µ—Ç–∞–ø?');">
                                <span class="icon">üóëÔ∏è</span> –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
